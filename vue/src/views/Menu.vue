<script lang="ts" setup>

import {Carousel, Slide} from 'vue3-carousel'
import FlipCard from "@/views/menu_/FlipCard.vue";
import {useCurrentEventStore} from "@/stores/current_event_store";

import 'vue3-carousel/dist/carousel.css'

const currentEventStore = useCurrentEventStore()
currentEventStore.updateCurrentEvent()


</script>

<template>
  <div class="rounded-t-2xl py-4 flex flex-col justify-center min-h-full relative gap-12 pt-16">
    <Carousel :itemsToShow="1.50" :transition="300" wrap-around>
      <Slide v-for="menu in currentEventStore.current_event?.menu" :key="menu.id">
        <flip-card class="carousel__slide">
          <template #front>
            <div class="w-full h-full bg-white flex flex-col p-4">
              <v-img :src="'menu/' + menu.src" :transition="false" class="flex-1 mb-2"/>
              <div>
                {{ menu.name }}
              </div>
              <div class="text-green-600">
                {{ menu.vg ? "V√©g√©tarien" : "" }}
              </div>
              <div class="text-purple-600" v-if="menu.type == 'CLA'">
                Classique du chef
              </div>
            </div>
          </template>
          <template #back>
            <div class="w-full h-full bg-white fles flex-center p-2">
              {{ menu.description }}
            </div>
          </template>
        </flip-card>
      </Slide>
    </Carousel>

    <div class="rounded-t-2xl p-4 flex flex-col bg-white elevation-2 flex-1 -mb-4 relative text-lg gap-2">
      <template v-if="currentEventStore.current_event?.internalId == '2'">
        <h3>
          √áa y est ! Nous y est !
        </h3>
        <div class="mt-2">
          Bienvenue chez les Mowgus, on esp√®re que vous √™tes chauds pour des campagnes qui s'annoncent m√©morable.
        </div>
        <div>
          Pour le go√ªter on vous a pr√©vu des cr√™pes et des gaufres, qu'on peut vous servir avec du sucre, du nutella ou encore de la confiture de fraise ou
          d'abricot.
        </div>
        <div>
          Des sirops √† l'eau, go√ªts <span class="text-purple-800">Myrtille</span> et <span class="text-yellow-600">Banane</span>, seront √©galement dispos en
          quantit√© tr√®s limit√© !!
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '3'">
        <div>
          Askip il y a une surprise vers minuit <br>
          Surveillez votre t√©l√©phone üòâ
        </div>
      </template>
      <template v-if="currentEventStore.current_event?.internalId == '4'">
        <div>
          R√©galade au programme pour ces premi√®res hotlines.
        </div>
        <div>
          Soyez gourmands et choisissez parmi les croque-monsieur, fajitas ou pizzas.
        </div>
        <div>
          Pour le dessert vous avez le choix entre des cr√™pes au chocolat, des cookies et du g√¢teau √† l'orange.
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '8'">
        <div>
          Pour ce d√©jeuner rejoignez les Mowgus et venez d√©guster :
        </div>
        <div>
          - Pan Con Tomate en entr√©e
        </div>
        <div>
          - Croque Monsieur ou Lasagnes V√©g√©tarienne en plat
        </div>
        <div>
          - Brownie en dessert
        </div>
        <div>
          Des sirops √† l'eau, go√ªts
          <span class="text-purple-800">Myrtille</span> et <span class="text-brown-lighten-1">Kiwi-Banane</span>,
          seront √©galement dispos en quantit√© tr√®s limit√© !!
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '6'">
        <div>
          Premier Petit Dej dans la Mowgance ! Si vous aussi vous en avez d√©ja marre des cr√™pes alors vous allez √™tre servi.
        </div>
        <div>
          Aujourd'hui au menu :
        </div>
        <div>
          Panini Tomate Mozzarella
        </div>
        <div>
          G√¢teau au Yaourt √† d√©guster avec du Nutella, de la confiture ou bien nature
        </div>
        <div>
          Cookies
        </div>
        <div>
          Pancakes √† accompagner de Nutella, de sirop d'√©rable ou de confiture
        </div>
        <div>
          Gaufres qui peuvent √™tre mang√©es avec du Nutella, du sucre ou de la confiture
        </div>
        <div>
          Caf√© et chocolat chaud seront √©galement disponibles.
        </div>
      </template>


      <template v-if="currentEventStore.current_event?.internalId == '5'">
        <h3>
          Bienvenue au premier Dej des Mowgus !
        </h3>
        <div class="mt-2">
          Aujourd'hui c'est tout feu tout flam's, n'h√©sitez pas √† aller voir les staffeurs si vous voulez du Fuze Tea ou des sirops
          <span class="text-purple-800">Myrtille</span> et <span class="text-yellow-600">P√™che</span>.
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '9'">
        <h3>
          Pour cette fin d'aprem, on fait dans la gourmandise !
        </h3>
        <div>
          Roul√© Saucisse
        </div>
        <div>
          Burger au Tenders et Frites
        </div>
        <div>
          G√¢teau au Yaourt √† manger avec du Nutella ou Nature
        </div>
        <div>
          Des Cr√™pes √† d√©guster avec du Nutella ou du Sucre
        </div>
        <div>
          Au niveau des boissons, on vous propose chocolat chaud, chocolat chaud Baileys et bien s√ªr notre classique Fuze Tea
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '10'">
        <h3>
          Lesssgui pour les Dark Hotlines ! <br>
          Au choix ce soir :
        </h3>
        <div>
          Croque-Monsieur
        </div>
        <div>
          Tarte √† la tomate
        </div>
        <div>
          Pizzas Diavola et Margarita
        </div>
        <div>
          Cookies
        </div>
        <div>
          Cr√™pes au chocolat
        </div>
        <div>
          Fondant au Chocolat
        </div>
        <div>
          Sandwich Salade du chef (uniquement sur la Rez, appeler le 0695869173)
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '11'">
        <h3>
          Dernier petit d√©jeuner propos√© par les Mowgus aujourd'hui !
        </h3>
        <div>
          Au menu :
        </div>
        <div>
          Avocado Toast
        </div>
        <div>
          Pancakes √† d√©guster avec du Nutella ou du sirop d'√©rable
        </div>
        <div>
          Tarte aux Pommes et Tartes Pomme/Cannelle
        </div>
        <div>
          Cr√™pes √† manger avec du Nutella, du sucre ou de la confiture
        </div>
        <div class="mt-2">
          Au niveau des boissons on vous propose caf√©, chocolat chaud et notre traditionnel Fuze Tea
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '13'">
        <h3>
          Pour notre Apr√®m, Aubin vous propose :
        </h3>
        <div>
          Briques v√©g√©tariennes
        </div>
        <div>
          Tartes Soleil Tomate Pesto
        </div>
        <div>
          Cr√™pes et Gaufres accompagn√©es de leur traditionnels Nutella et sucre
        </div>

        <div class="mt-2">
          Vous pourrez √©galement retrouver du chocolat chaud et des jus de fruits
        </div>
      </template>

      <template v-if="currentEventStore.current_event?.internalId == '14'">
        <div>
          Pour notre 20h/00h, l'admin n'a pas voulu qu'on ram√®ne une broche mais c'est pas √ßa qui va nous emp√™cher de vous r√©galer.
        </div>
        <div class="italic">
          D√©dicace √† Triolo Food
        </div>
        <div>
          Pour notre dernier event venez au foyer d√©guster un bon grec frites et un bon cookie en dessert.
        </div>
      </template>


    </div>
  </div>
</template>

<style lang="scss">
.carousel__slide {
  padding: 5px;
  transform: unset;
}

.carousel__viewport {
  padding-top: 10px;
  padding-bottom: 30px;
  perspective: 2000px;
}

.carousel__track {
  transform-style: preserve-3d;
}

.carousel__slide--sliding {
  transition: 0.5s;
}

.carousel__slide {
  opacity: 0.9;
  transform: rotateY(-20deg) scale(0.9);
}

.carousel__slide--active ~ .carousel__slide {
  transform: rotateY(20deg) scale(0.9);
}

.carousel__slide--prev {
  opacity: 1;
  transform: rotateY(-10deg) scale(0.95);
}

.carousel__slide--next {
  opacity: 1;
  transform: rotateY(10deg) scale(0.95);
}

.carousel__slide--active {
  opacity: 1;
  transform: rotateY(0) scale(1.1) translateZ(100px) translateX(2%);
}
</style>
