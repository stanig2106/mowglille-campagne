<script lang="ts" setup>

import {useCurrentEventStore} from "@/stores/current_event_store";
import {ref} from "vue";
import planning from "@/assets/planning.webp";
import Galerie from "@/components/Galerie.vue";
import affiche_torcho from "@/assets/com/affiche_torcho.webp";
import affiche_hotline from "@/assets/com/affiche_hotline.webp";
import affiche_dej1 from "@/assets/com/affiche_dej1.webp";
import affiche_pdej1 from "@/assets/com/affiche_pdej1.webp";
import affiche_fin_aprem from "@/assets/com/affiche_fin_aprem.webp";


const currentEventStore = useCurrentEventStore()
currentEventStore.updateCurrentEvent()

async function getImagesSize(path: string) {
  const image = new Image();
  image.src = path;
  await new Promise((resolve) => image.onload = resolve);
  return {width: image.width, height: image.height};
}

const planning_size = ref(null as { width: number, height: number } | null);
getImagesSize(planning).then(size => planning_size.value = size);

const affiche_torcho_size = ref(null as { width: number, height: number } | null);
getImagesSize(affiche_torcho).then(size => affiche_torcho_size.value = size);

const affiche_hotline_size = ref(null as { width: number, height: number } | null);
getImagesSize(affiche_hotline).then(size => affiche_hotline_size.value = size);

const affiche_dej1_size = ref(null as { width: number, height: number } | null);
getImagesSize(affiche_dej1).then(size => affiche_dej1_size.value = size);

const affiche_pdej1_size = ref(null as { width: number, height: number } | null);
getImagesSize(affiche_pdej1).then(size => affiche_pdej1_size.value = size);

const affiche_fin_aprem_size = ref(null as { width: number, height: number } | null);
getImagesSize(affiche_fin_aprem).then(size => affiche_fin_aprem_size.value = size);

</script>

<template>
  <div class="bg-white rounded-t-2xl p-4 flex flex-col elevation-2 min-h-full relative gap-6">
    <template v-if="currentEventStore.current_event?.internalId == '2'">
      Salut les ğŸ»oursonsğŸ» ! <br><br>

      On vous attend derriÃ¨re le Foyer de la Rez, au niveau du barbecue. Vous pourrez engloutir nos crÃªpesğŸ¥ & gaufresğŸ§‡ et surtout obtenir quelques goodiesğŸ¯ !
      <br> <br>

      Et ce soir, CA VA PETER ! Le Foyer ouvre ses portes Ã  22h. Les 40 premiers et 40 premiÃ¨res Ã  arriver pourront bÃ©nÃ©ficier du pack gourmandğŸ˜‹- 1 parfum SPPC,
      1 paquet de Hollywood Chewing-gum et 2 prÃ©servatifs Skyn !

      <galerie v-if="planning_size" :images="[{
        thumbnailURL: planning,
        ...planning_size
      }]" class="rounded-lg overflow-hidden mt-2"/>
    </template>

    <template v-if="currentEventStore.current_event?.internalId == '3'">
      Ce soir, CA VA PETER ! Le Foyer ouvre ses portes Ã  22h. Les 40 premiers et 40 premiÃ¨res Ã  arriver pourront bÃ©nÃ©ficier du pack gourmandğŸ˜‹- 1 parfum SPPC,
      1 paquet de Hollywood Chewing-gum et 2 prÃ©servatifs Skyn !

      <galerie v-if="affiche_torcho_size" :images="[{
        thumbnailURL: affiche_torcho,
        ...affiche_torcho_size
      }]" class="rounded-lg overflow-hidden mt-2"/>
    </template>

    <template v-if="currentEventStore.current_event?.internalId == '4'">
      [HOTLINES] [MOWâ€™GOURMANDISE] [14h-18h]
      Salut les oursons ğŸ»,
      A 14h commencent les hotlines, pour lesquelles vos mowgus vous ont prÃ©parÃ© plein de dÃ©licieuses recettes ğŸ¯
      Au menu, croque-monsieursğŸ¥ª, fajitasğŸ¥™, pizzas ğŸ•, gÃ¢teau Ã  lâ€™orangeğŸ¥§, cookies et crÃªpes ğŸ¥. Un form sera postÃ© Ã  14h pile pour que vous puissiez commander.
      On vous donne rendez-vous sur notre appli Mowgâ€™Lille pour visionner notre menu!
      Rendez-vous Ã  la rez ou dans Lille, vos mowgus viendront vous livrer avec plaisir ğŸ˜Š
      Soyez Ã  lâ€™affÃ»t, la cuisine mowgu est rÃ©putÃ©e dans les alentours et risque dâ€™Ãªtre prise dâ€™assauts !ğŸ˜‹
      A tout Ã  lâ€™heure pour Ã©gayer vos papillesğŸŒŸ

      <galerie v-if="affiche_torcho_size" :images="[{
        thumbnailURL: affiche_hotline,
        ...affiche_hotline_size
      }]" class="rounded-lg overflow-hidden mt-2"/>
    </template>

    <template v-if="currentEventStore.current_event?.internalId == '5'">
      <h3>
        [DÃ©jeuner] [Tout feu tout flamâ€™s]
      </h3>
      Hello les oursonsğŸ», <br>
      On espÃ¨re que vous avez bien dormi ! <br>
      Aujourdâ€™hui, les mowgus vous ont dÃ©gotÃ© un partenariat avec Flamâ€™s pour le dÃ©jeuner ! ğŸ˜‹ <br>
      Venez vous restaurer Ã  Centrale ou Ã  la rez de 11h30 Ã  13h30 pour 3â‚¬ (ou 2â‚¬ pour les petites faims qui ne veulent pas de dessert) <br>
      Au menu, une part de flamâ€™s salÃ©e et une part de flamâ€™s sucrÃ©e ! ğŸ• <br>
      Vos mowgus vous ont aussi prÃ©parÃ© quelques jeux et quizz sur les membres de la liste pour vous aider Ã  dÃ©couvrir les secrets qui se cachent chez les
      Mowg'lille ğŸ˜‰ <br>
      Ã€ tout Ã  lâ€™heure ! ğŸ¯

      <galerie v-if="affiche_dej1_size" :images="[{
        thumbnailURL: affiche_dej1,
        ...affiche_dej1_size
      }]" class="rounded-lg" style="overflow: hidden;"/>
    </template>

    <template v-if="currentEventStore.current_event?.internalId == '6'">
      <h3>
        [PETIT-DEJ] [7h30-10h30] [ECOCUPS]
      </h3>
      Hello les nounoursğŸ», <br> <br>
      On s'est bien rÃ©galÃ©s avec les Flamâ€™s ce midi et on vous annonce que câ€™est pas fini! <br>
      Il est maintenant temps de vous donner des forces demain avant les cours Ã  notre petit-dej dans le hall du bat A de la rez ET dans le couloir des amphis
      de Centrale ! On vous attend de 7h30 Ã  10h30 !ğŸ˜‹
      <br>
      Il y en aura pour tous les goÃ»ts puisque nous vous proposons du sucrÃ© avec nos gaufresğŸ§‡, pancakesğŸ¥, cookiesğŸª, gÃ¢teaux au yaourt ğŸ¥§ ainsi que du salÃ© avec
      des paninis tomate mozzarellağŸ…!
      <br>
      Vous pourrez dÃ©guster tout Ã§a avec du cafÃ©â˜•ï¸, du chocolat chaudğŸ§‹ou encore des jus de fruitsğŸ§ƒ! Nâ€™oubliez pas vos Ã©cocups pour les boissons! <br>
      Ce sera Ã©galement lâ€™occasion pour vous de remporter un maximum de points sur lâ€™appli Mowgâ€™Lille grÃ¢ce Ã  nos diffÃ©rents jeuxğŸ° ! <br> <br>
      La bise qui a hÃ¢te de cuisiner votre petit-dej!

      <galerie v-if="affiche_dej1_size" :images="[{
        thumbnailURL: affiche_pdej1,
        ...affiche_pdej1_size
      }]" class="rounded-lg" style="overflow: hidden;"/>
    </template>


    <template v-if="currentEventStore.current_event?.internalId == '9'">
      <h3>
        [FIN Dâ€™APREM] [IL EN FAUT PEU POUR ETRE HEUREUX] [17h-20h] [SYNTHE]
      </h3> <br>
      Comme le dit si bien notre ami Baloo, il en faut peu pour Ãªtre heureux! ğŸ¥° <br>
      Et nous Ã  Centrale on a besoin de quoi pour Ãªtre heureux? Des activitÃ©s made in Mowgâ€™Lille et dâ€™un bon repas fait maison!!ğŸ» <br>
      On vous attend nombreux au synthÃ© avec EH autour de nos jeux plus fous les uns que les autres: concours de hula-hoop, blitz dâ€™Ã©checsâ™Ÿet la quÃªte aux
      balles qui est un jeu en Ã©quipes inÃ©dit.
      <br>
      Pour le repas, on vous propose des BURGERS TENDERS ğŸ”ğŸ— servis avec des frites ğŸŸ ainsi que des roulÃ©s aux saucisses! Pour le dessert, il y aura des crÃªpesğŸ¥
      et des dÃ©licieux cakes banane chocolat ğŸ¥§ğŸŒğŸ«
      <br>
      Au niveau des biÃ¨resğŸ», on vous servira de la kasteel red, de la brigand et du cidre que vous pourrez boire autour dâ€™un coin-coin ou dâ€™un beer-pong! <br>
      Vous pourrez Ã©galement repartir avec non pas du faux mais bien du vrai miel en pot ğŸ¯ en remportant notre jeu La quÃªte aux balles! <br>
      La bise mielleuseğŸ¯

      <galerie v-if="affiche_fin_aprem_size" :images="[{
        thumbnailURL: affiche_fin_aprem,
        ...affiche_fin_aprem_size
      }]" class="rounded-lg" style="overflow: hidden;"/>
    </template>

  </div>


</template>
